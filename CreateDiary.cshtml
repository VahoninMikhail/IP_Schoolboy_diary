@{
    ViewBag.Title = "CreateDiary";
}

@model Schoolboy_diary.Models.Diary
@{
    Layout = null;
}

<!doctype html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>Дневник школьника</title>
    <link rel="stylesheet" href="~/Content/styles.css" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald:400,300" type="text/css">
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
</head>
<body>
    <div id="wrapper">
        <header>
            <a href="/"><img src="~/images/logo.png" alt="Whitesquare logo"></a>

        </header>
        <nav>
            <ul class="top-menu">
                <li><a href="~/Home/Index">Домой</a></li>
                <li><a href="~/Diary/DiariesUser">Проверить дневник</a></li>
                <li class="active">Дневники</li>
                <li><a href="~/School/Schools">Школьники</a></li>
                <li><a href="~/Account/Login">Войти</a></li>
                <li><a href="~/Account/Register">Регистрация</a></li>
            </ul>
        </nav>
        <div id="heading">
            <h1>Управление дневниками</h1>
        </div>
        <aside>
            <nav>
                <ul class="aside-menu">
                    <li class="active">Что такое</li>
                    <li><a href="/donec/">Для чего нужен</a></li>
                    <li><a href="/vestibulum/">Как войти</a></li>
                    <li><a href="/etiam/">Как пользоваться</a></li>
                </ul>
            </nav>
        </aside>
        <section>
            <blockquote>
                <p>
                    &ldquo; Добавить запись  &rdquo;
                </p>
            </blockquote>
            <p>
                <script type="text/javascript">
                    function checkForm() {
                        var regex = new RegExp("^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.]((19|20)\\d\\d)$");
                        var date = $('#Date').val();
                        var NumLesson = $('#NumLesson').val();
                        var NameLesson = $('#NameLesson').val();
                        var Mark = $('#Mark').val();
                        var Homework = $('#Homework').val();
                        var Note = $('#Note').val();
                        var SchoolId = $('#SchoolId').val();

                        var submitButton = $('#submitButton');

                        if ((NumLesson == "") || (NameLesson == "") || (Mark == "") || (Homework == "") || (Note == "") || (SchoolId == "") || (date == "") || (regex.test(date) == false)) {

                            submitButton.prop('disabled', true);
                        }
                        else {
                            submitButton.prop('disabled', false);
                        }
                    }</script>

                @Scripts.Render("~/scripts/jquery-3.3.1.min.js")
                @Scripts.Render("~/scripts/jquery.validate.min.js")
                @Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")

                @using (Html.BeginForm())
                {
                    @Html.ValidationSummary(true);

                    @Html.LabelFor(model => model.Date, "Дата")
                    <br />
                    @Html.EditorFor(model => model.Date, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    @Html.LabelFor(model => model.NumLesson, "Номер урока")
                    <br />
                    @Html.EditorFor(model => model.NumLesson, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    @Html.LabelFor(model => model.NameLesson, "Предмет")
                    <br />
                    @Html.EditorFor(model => model.NameLesson, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    @Html.LabelFor(model => model.Mark, "Оценка")
                    <br />
                    @Html.EditorFor(model => model.Mark, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    @Html.LabelFor(model => model.Homework, "Домашнее задание")
                    <br />
                    @Html.EditorFor(model => model.Homework, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    @Html.LabelFor(model => model.Note, "Примечание")
                    <br />
                    @Html.EditorFor(model => model.Note, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    @Html.LabelFor(model => model.SchoolId, "Школьник")
                    <br />
                    @Html.DropDownListFor(model => model.SchoolId, ViewBag.Schools as SelectList, new { htmlAttributes = new { onchange = "checkForm()" } })
                    <br /><br />
                    <input id="submitButton" type="submit" value="Добавить" disabled />
                }
            </p>
        </section>
    </div>
</body>
</html>